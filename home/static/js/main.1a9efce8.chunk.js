(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){e.exports=a(435)},421:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);a(229),a(231);var n=a(0),i=a.n(n),o=a(52),r=a.n(o),c=a(41),l=a(177),s=a(22),u=a(24),d=a(8),p=a(75),m=a(35),h=a.n(m),f=a(67),v=function(e){return{type:"SET_ACCESS_TOKEN",payload:e}},b=function(e,t){return{type:"SET_ACTIVE_TAB",payload:{component:e,tab:t}}},y=function(e){return{type:"SET_SCROLL_POSITION_BY_ID",payload:{component:e}}},g=function(e,t){return t.access_token=$e.getState().vkui.accessToken,t.v=void 0===t.v?"5.92":t.v,f.a.send("VKWebAppCallAPIMethod",{method:e,params:t}).then(function(e){return e.data.response}).catch(function(e){return e})},E=function(){var e=$e.getState().vkui.componentScroll;Object.keys(e).forEach(function(t){var a=e[t],n=document.getElementById(t);n&&((n=n.getElementsByClassName("HorizontalScroll__in")[0]).scrollLeft=a.x,n.scrollTop=a.y)})},O={activeStory:null,activeView:null,activePanel:null,storiesHistory:[],viewsHistory:[],panelsHistory:[],activeModals:[],modalHistory:[],popouts:[],scrollPosition:[]},j={accessToken:void 0,colorScheme:"client_light",activeTab:[],componentScroll:[]},k={forms:[]},_=Object(c.combineReducers)({vkui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLOR_SCHEME":return Object(d.a)({},e,{colorScheme:t.payload});case"SET_ACCESS_TOKEN":return Object(d.a)({},e,{accessToken:t.payload});case"SET_ACTIVE_TAB":return Object(d.a)({},e,{activeTab:Object(d.a)({},e.activeTab,Object(u.a)({},t.payload.component,t.payload.tab))});case"SET_SCROLL_POSITION":return Object(d.a)({},e,{componentScroll:Object(d.a)({},e.componentScroll,Object(u.a)({},t.payload.component,{x:t.payload.x,y:t.payload.y}))});default:return e}},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":var a=t.payload.view,n=t.payload.panel;window.history.pushState(null,null);var i=e.panelsHistory[a]||[],o=e.viewsHistory[e.activeStory]||[],r=o.indexOf(a);return-1!==r&&o.splice(r,1),-1===i.indexOf(n)&&(i=[].concat(Object(p.a)(i),[n])),i.length>1&&f.a.send("VKWebAppEnableSwipeBack",{}),Object(d.a)({},e,{activeView:a,activePanel:n,panelsHistory:Object(d.a)({},e.panelsHistory,Object(u.a)({},a,i)),viewsHistory:Object(d.a)({},e.viewsHistory,Object(u.a)({},e.activeStory,[].concat(Object(p.a)(o),[a]))),scrollPosition:Object(d.a)({},e.scrollPosition,Object(u.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset))});case"SET_STORY":window.history.pushState(null,null);var c=e.viewsHistory[t.payload.story]||[t.payload.story],l=e.storiesHistory,s=c[c.length-1],m=e.panelsHistory[s]||[t.payload.initial_panel],h=m[m.length-1];if(t.payload.story===e.activeStory)if(m.length>1){var v=m.shift();h=(m=[v])[m.length-1]}else if(c.length>1){var b=c.shift();s=(c=[b])[c.length-1],h=(m=e.panelsHistory[s])[m.length-1]}return t.payload.story===e.activeStory&&1===m.length&&window.pageYOffset>0&&(window.scrollTo(0,30),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>30||t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))}()),(-1===l.indexOf(t.payload.story)||l[0]===t.payload.story&&l[l.length-1]!==t.payload.story)&&(l=[].concat(Object(p.a)(l),[t.payload.story])),Object(d.a)({},e,{activeStory:t.payload.story,activeView:s,activePanel:h,storiesHistory:l,viewsHistory:Object(d.a)({},e.viewsHistory,Object(u.a)({},s,c)),panelsHistory:Object(d.a)({},e.panelsHistory,Object(u.a)({},s,m)),scrollPosition:Object(d.a)({},e.scrollPosition,Object(u.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset))});case"GO_BACK":var y=e.activeView,g=e.activePanel,E=e.activeStory,j=e.popouts;if(j[y])return j[y]=null,Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,{popoutsData:j})});var k=e.modalHistory[y];if(void 0!==k&&0!==k.length){var _=k[k.length-2]||null;return null===_?k=[]:-1!==k.indexOf(_)?k=k.splice(0,k.indexOf(_)+1):k.push(_),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(u.a)({},y,_)),modalHistory:Object(d.a)({},e.modalHistory,Object(u.a)({},y,k))})}var w=e.panelsHistory[y]||[],S=e.viewsHistory[e.activeStory]||[],C=e.storiesHistory;if(w.length>1)w.pop(),g=w[w.length-1];else if(S.length>1){S.pop(),y=S[S.length-1];var T=e.panelsHistory[y];g=T[T.length-1]}else if(C.length>1&&"Android"===t.payload.from){C.pop(),E=C[C.length-1],y=e.viewsHistory[E][e.viewsHistory[E].length-1];var A=e.panelsHistory[y];g=A.length>1?A[A.length-1]:A[0]}else f.a.send("VKWebAppClose",{status:"success"});return 1===w.length&&"iOS"===t.payload.from&&f.a.send("VKWebAppDisableSwipeBack",{}),Object(d.a)({},e,{activeView:y,activePanel:g,activeStory:E,viewsHistory:Object(d.a)({},e.viewsHistory,Object(u.a)({},e.activeView,S)),panelsHistory:Object(d.a)({},e.panelsHistory,Object(u.a)({},e.activeView,w))});case"OPEN_POPOUT":return window.history.pushState(null,null),Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,Object(u.a)({},e.activeView,t.payload.popout))});case"CLOSE_POPOUT":return Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,Object(u.a)({},e.activeView,null))});case"OPEN_MODAL":window.history.pushState(null,null);var P=t.payload.id||null,I=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===P?I=[]:-1!==I.indexOf(P)?I=I.splice(0,I.indexOf(P)+1):I.push(P),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(u.a)({},e.activeView,P)),modalHistory:Object(d.a)({},e.modalHistory,Object(u.a)({},e.activeView,I))});case"CLOSE_MODAL":var M=e.modalHistory[e.activeView][e.modalHistory[e.activeView].length-2]||null,H=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===M?H=[]:-1!==H.indexOf(M)?H=H.splice(0,H.indexOf(M)+1):H.push(M),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(u.a)({},e.activeView,M)),modalHistory:Object(d.a)({},e.modalHistory,Object(u.a)({},e.activeView,H))});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_FORM_DATA":return Object(d.a)({},e,{forms:Object(d.a)({},e.forms,Object(u.a)({},t.payload.form,t.payload.data))});default:return e}}}),w=a(179),S=function(e,t){return{type:"SET_STORY",payload:{story:e,initial_panel:t}}},C=function(e,t){return{type:"SET_PAGE",payload:{view:e,panel:t}}},T=function(){return{type:"GO_BACK",payload:{from:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iOS"}}},A=function(e){return{type:"OPEN_POPOUT",payload:{popout:e}}},P=function(){return{type:"CLOSE_POPOUT"}},I=function(e){return{type:"OPEN_MODAL",payload:{id:e}}},M=function(){return{type:"CLOSE_MODAL"}},H=(a(420),a(421),a(13)),B=a(14),V=a(16),G=a(15),L=a(17),x=a(1),D=a(190),z=a.n(D),N=(a(431),a(191)),W=a.n(N),K=a(94),R=a.n(K),U=a(135),Y=a.n(U),q=a(95),F=a.n(q),J=a(74),X=a.n(J),Z=a(66),Q=a.n(Z),$=a(96),ee=a.n($),te=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={items:a.props.items,liked:a.props.items.is_like,like_post:a.props.items.like_post,fav:a.props.items.is_fav},a.likeClick=function(e){var t="API/likeClick.html"+window.location.search+"&post_id="+e+"&like="+a.state.liked;fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({liked:e.like,like_post:e.count_like})},function(e){console.log(e)})},a.imgClick=function(){h.a.send("VKWebAppShowImages",{images:[a.state.items.img_url]})},a.favClick=function(e){var t="API/favClick.html"+window.location.search+"&post_id="+e+"&fav="+a.state.fav;fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({fav:e.fav})},function(e){console.log(e)})},a.clickPost=function(e){var t=a.props.openModal;a.props.GetIdCard(e),t("MODAL_PAGE_BOT_INFO")},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.state.items;return i.a.createElement("div",{style:{padding:0}},i.a.createElement(x.c,{size:"1",description:t.created_at,before:i.a.createElement(x.a,{style:{marginRight:10},src:"https://sun4-10.userapi.com/c636424/v636424900/cf4a/z9Wt7g_7wAE.jpg?ava=1"}),asideContent:i.a.createElement(x.b,{mode:"tertiary",size:"l",onClick:function(){return e.favClick(t.id)},style:{padding:0}},this.state.fav?i.a.createElement(Q.a,{width:28,height:28}):i.a.createElement(ee.a,{width:28,height:28}))},"Animach"),i.a.createElement("img",{onClick:this.imgClick,style:{width:"100%"},src:t.img_url,alt:t.id}),i.a.createElement(x.f,null,i.a.createElement(x.b,{mode:"tertiary",onClick:function(){return e.likeClick(t.id)},before:this.state.liked?i.a.createElement(X.a,{style:{color:"red",paddingRight:5},width:28,height:28}):i.a.createElement(F.a,{style:{paddingRight:5},width:28,height:28}),style:this.state.liked?{color:"red"}:{},size:"l"},this.state.like_post),i.a.createElement(x.b,{mode:"secondary",before:i.a.createElement(Y.a,null),onClick:function(){return e.clickPost(t.id)},size:"l",Style:"float: right;"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))}}]),t}(i.a.Component),ae={openModal:I},ne=Object(s.b)(null,ae)(te),ie=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={isLoaded:!1,items:[]},a.GetIdCard=function(e){a.props.GetIdCard(e)},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="API/allPost.html"+window.location.search;fetch(t).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({isLoaded:!0,items:t})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this,t=this.state.items,a={marginTop:30};return i.a.createElement(x.f,{Style:"padding: 0; margin-top: 56px;"},t.map(function(t){return i.a.createElement(x.j,{style:a,key:t.id},i.a.createElement(ne,{items:t,GetIdCard:e.GetIdCard}))}))}}]),t}(i.a.Component),oe=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(V.a)(this,Object(G.a)(t).call(this,e))).GetIdCard=function(e){a.props.parrentModalId(e)},a.state={activeTab:e.activeTab.HOME||"all"},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setScrollPositionByID;(0,e.setActiveTab)("HOME",this.state.activeTab),t("HOME_TABS_LIST")}},{key:"componentDidMount",value:function(){E()}},{key:"render",value:function(){var e=this,t=this.props,a=t.id;t.setPage,t.withoutEpic;return i.a.createElement(x.s,{id:a},i.a.createElement(x.t,{noShadow:!0},"Animach | Art"),i.a.createElement(x.h,{vertical:"top"},i.a.createElement(x.C,{theme:"header",type:"buttons"},i.a.createElement(x.l,{id:"HOME_TABS_LIST"},i.a.createElement(x.D,{onClick:function(){return e.setTab("all")},selected:"all"===this.state.activeTab},"\u0412\u0441\u0435"),i.a.createElement(x.D,{onClick:function(){return e.setTab("popular")},selected:"popular"===this.state.activeTab},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435")))),"all"===this.state.activeTab&&i.a.createElement(ie,{GetIdCard:this.GetIdCard}),"all"!==this.state.activeTab&&i.a.createElement(x.f,null,this.state.activeTab))}}]),t}(i.a.Component),re={setPage:C,goBack:T,openPopout:A,closePopout:P,openModal:I,setActiveTab:b,setScrollPositionByID:y},ce=Object(s.b)(function(e){return{activeTab:e.vkui.activeTab}},re)(oe),le=a(139),se=a.n(le),ue=a(192),de=function(e){function t(){return Object(H.a)(this,t),Object(V.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.description,a=e.photo,n=e.name,o=t.length>0?t:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442";return i.a.createElement(x.c,{description:o,before:i.a.createElement(x.a,{size:40,src:a})},n)}}]),t}(n.PureComponent),pe=function(e){var t=null;return void 0!==e&&null!==e&&0!==e.length&&(t=e.map(function(e){return i.a.createElement(de,{key:e.id,description:e.description,photo:e.photo_100,name:e.name})})),t},me=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={groups:{admined:[],other:[]},loading:!0,errorGetAuthToken:!1},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){void 0===this.props.accessToken?this.getAuthToken():this.getGroupsList()}},{key:"getAuthToken",value:function(){var e;this.props.dispatch((e=["groups"],function(t){f.a.send("VKWebAppGetAuthToken",{app_id:6984089,scope:e.join(",")}).then(function(e){t(v(e.data.access_token))}).catch(function(){t(v(null))})}))}},{key:"componentDidUpdate",value:function(e,t,a){this.props!==e&&(null===this.props.accessToken?this.setState({loading:!1,errorGetAuthToken:!0}):(this.setState({loading:!0,errorGetAuthToken:!1}),this.getGroupsList()))}},{key:"getGroupsList",value:function(){var e=Object(ue.a)(se.a.mark(function e(){var t,a,n;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("userGroupsAdmined")||!localStorage.getItem("userGroupsOther")){e.next=3;break}return this.setState({groups:{admined:JSON.parse(localStorage.getItem("userGroupsAdmined")),other:JSON.parse(localStorage.getItem("userGroupsOther"))},loading:!1}),e.abrupt("return");case 3:return e.next=5,g("groups.get",{extended:"1",fields:"description",count:"100"});case 5:t=e.sent,a=t.items.filter(function(e){return 1===e.is_admin}),n=t.items.filter(function(e){return 0===e.is_admin}),localStorage.setItem("userGroupsAdmined",JSON.stringify(a)),localStorage.setItem("userGroupsOther",JSON.stringify(n)),this.setState({groups:{admined:a,other:n},loading:!1});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.goBack,o=pe(this.state.groups.admined),r=pe(this.state.groups.other);return i.a.createElement(x.s,{id:a},i.a.createElement(x.t,{left:i.a.createElement(x.u,{onClick:function(){return n()}})},"\u0413\u0440\u0443\u043f\u043f\u044b"),this.state.loading&&i.a.createElement(x.v,null),!this.state.loading&&this.state.errorGetAuthToken&&i.a.createElement(x.j,null,i.a.createElement(x.f,null,"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0412\u044b \u043d\u0435 \u0432\u044b\u0434\u0430\u043b\u0438 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f."),i.a.createElement(x.f,null,i.a.createElement(x.b,{size:"l",stretched:!0,onClick:function(){return e.getAuthToken()}},"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e"))),!this.state.loading&&!this.state.errorGetAuthToken&&o&&i.a.createElement(x.j,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435"},i.a.createElement(x.o,null,o)),!this.state.loading&&!this.state.errorGetAuthToken&&r&&i.a.createElement(x.j,{title:"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435"},i.a.createElement(x.o,null,r)))}}]),t}(i.a.Component);Object(s.b)(function(e){return{accessToken:e.vkui.accessToken}},function(e){return Object(d.a)({dispatch:e},Object(c.bindActionCreators)({goBack:T,openPopout:A,closePopout:P,openModal:I},e))})(me);var he=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(V.a)(this,Object(G.a)(t).call(this,e))).state={activeTab:e.activeTab.EXAMPLE||"modal"},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setScrollPositionByID;(0,e.setActiveTab)("EXAMPLE",this.state.activeTab),t("EXAMPLE_TABS_LIST")}},{key:"componentDidMount",value:function(){E()}},{key:"render",value:function(){var e=this.props,t=e.id;e.setPage;return i.a.createElement(x.s,{id:t},i.a.createElement(x.t,{noShadow:!0},"\u041b\u0435\u043d\u0442\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a"),i.a.createElement(x.h,{vertical:"top"}),i.a.createElement(x.j,{style:{marginTop:0}},i.a.createElement(x.w,{icon:i.a.createElement(R.a,null),stretched:!0},"Coming SOON!")))}}]),t}(i.a.Component),fe={setPage:C,setActiveTab:b,setScrollPositionByID:y},ve=Object(s.b)(function(e){return{activeTab:e.vkui.activeTab}},fe)(he),be=function(e){function t(e){return Object(H.a)(this,t),Object(V.a)(this,Object(G.a)(t).call(this,e))}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.goBack;return console.log(this.props),i.a.createElement(x.s,{id:t},i.a.createElement(x.t,{left:i.a.createElement(x.u,{onClick:function(){return a()}})},"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"),i.a.createElement(x.j,null,this.props.id))}}]),t}(i.a.Component),ye={goBack:T},ge=Object(s.b)(null,ye)(be),Ee=(a(434),a(193)),Oe=a.n(Ee),je=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={image:a.props.items.img_url,id:a.props.items.id},a.clickCard=function(e){var t=a.props.setPage;a.props.GetIdCard(e),t("modalPost","feature")},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t={backgroundImage:"url("+this.state.image+")"},a=this.state.id;return i.a.createElement("div",{className:"card",style:t,onClick:function(){return e.clickCard(a)}})}}]),t}(i.a.Component),ke={setPage:C},_e=Object(s.b)(null,ke)(je),we=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={items:a.props.items},a.GetIdCard=function(e){a.props.GetIdCard(e)},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items;return i.a.createElement("div",{className:"flex__container"},t.map(function(t){return i.a.createElement(_e,{key:t.id,items:t,GetIdCard:e.GetIdCard})}))}}]),t}(i.a.Component),Se={setPage:C},Ce=Object(s.b)(null,Se)(we),Te=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(V.a)(this,Object(G.a)(t).call(this,e))).state={items:null,isLoaded:!1,count_like:null,count_fav:null,user_info:[{first_name:null,last_name:null,photo_100:null}]},a.GetIdCard=function(e){a.props.parrentModalId(e)},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"componentDidMount",value:function(){var e=this;h.a.send("VKWebAppInit",{}),null===this.state.user_info[0].first_name&&h.a.send("VKWebAppGetUserInfo",{}).then(function(t){console.log(t),e.setState({user_info:[{first_name:t.first_name,last_name:t.last_name,photo_100:t.photo_100}]})});var t="API/userPage.html"+window.location.search;fetch(t).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({isLoaded:!0,items:null!=t.items?t.items:null,count_like:t.count_like,count_fav:t.count_fav})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this.props,t=e.id,a=(e.setPage,this.state.user_info[0]);return i.a.createElement(x.s,{id:t},i.a.createElement(x.t,{noShadow:!1},"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),i.a.createElement(x.j,{Style:"margin: 0"},i.a.createElement(x.o,null,i.a.createElement(x.c,{before:i.a.createElement(x.a,{src:a.photo_100,size:72}),size:"l",multiline:!0,description:"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0439 \u0430\u0440\u0442\u044b \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438, \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0441\u044f \u043d\u0430 \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u0432, \u0438 \u0432\u0441\u0435 \u044d\u0442\u043e \u0443 \u043d\u0430\u0441 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 <3",bottomContent:i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(x.b,{Style:"color: red; font-weight: 600; padding: 0 5px",mode:"tertiary",before:i.a.createElement(X.a,{Style:"color: red; padding-right: 5px;",width:28,height:28}),size:"l"},this.state.count_like),i.a.createElement(x.b,{Style:"font-weight: 600;",mode:"tertiary",before:i.a.createElement(Q.a,{Style:"margin-left: 8; padding-right: 5px;",width:28,height:28}),size:"l"},this.state.count_fav))},a.first_name," ",a.last_name),i.a.createElement(x.c,{before:i.a.createElement(Oe.a,null),size:"1",indicator:i.a.createElement(x.e,{type:"primary"},"1")},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"))),i.a.createElement(x.j,{Style:"margin-top: 30px",header:null!=this.state.items&&i.a.createElement(x.k,{mode:"secondary"},"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438")},this.state.isLoaded?null==this.state.items?i.a.createElement(x.w,{icon:i.a.createElement(Q.a,{height:56,width:56}),title:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a"},"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c \u0442\u0443\u0442 ;D"):i.a.createElement(Ce,{items:this.state.items,GetIdCard:this.GetIdCard}):i.a.createElement(x.z,{size:"large",style:{marginTop:20}})))}}]),t}(i.a.Component),Ae={setPage:C,setActiveTab:b,setScrollPositionByID:y},Pe=Object(s.b)(null,Ae)(Te),Ie=(a(176),a(92),a(93)),Me=a.n(Ie),He=[{name:"VKS",avatar:"https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg",desc:"\u041d\u0435\u0442, \u043c\u0435\u043d\u044f \u043d\u0435 \u0440\u043e\u043d\u044f\u043b\u0438 \u0432 \u0434\u0435\u0442\u0441\u0442\u0432\u0435"},{name:"\u041d\u0435\u0434\u043e\u0431\u043e\u0442",avatar:"https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg",desc:"\u042f \u043d\u0438 \u0440\u0430\u0437\u0443 \u043d\u0435 \u043f\u0438\u043b \u043a\u043e\u043a\u043e\u0441\u043e\u0432\u043e\u0435 \u043c\u043e\u043b\u043e\u043a\u043e"},{name:"Callback API \u0411\u043e\u0442",avatar:"https://pp.userapi.com/c846523/v846523036/1e69b7/UxWZ1yAqY7I.jpg",desc:"\u0414\u0430\u0436\u0435 \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0439"}],Be=function(e){function t(){return Object(H.a)(this,t),Object(V.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.openModal;return i.a.createElement(x.p,{id:t,header:i.a.createElement(x.q,null,"/appbots \u043d\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u043a\u0430\u0445"),onClose:a,settlingHeight:80},i.a.createElement(x.o,null,He.map(function(e,t){return i.a.createElement(x.c,{key:t,description:e.desc,before:i.a.createElement(x.a,{size:40,src:e.avatar}),onClick:function(){return n("MODAL_PAGE_BOT_INFO")},asideContent:i.a.createElement(Me.a,{fill:"#528bcc"})},e.name)})))}}]),t}(i.a.Component),Ve={openModal:I},Ge=(Object(s.b)(null,Ve)(Be),a(97)),Le=a.n(Ge),xe=a(98),De=a.n(xe),ze=a(99),Ne=a.n(ze),We=a(100),Ke=a.n(We),Re=a(194),Ue=a.n(Re),Ye=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(i)))).state={isLoaded:!1,items:{id:null,tag_string_artist:null,tag_string_character:null,tag_string_copyright:null}},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="API/onePost.html"+window.location.search+"&id_post="+this.props.id_post;fetch(t).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({isLoaded:!0,items:{id:t[0].id,tag_string_artist:t[0].tag_string_artist,tag_string_character:t[0].tag_string_character,tag_string_copyright:t[0].tag_string_copyright}})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this.props,t=e.id,a=(e.id_post,e.onClose),n=this.state.items;return i.a.createElement(x.p,{id:t,header:i.a.createElement(x.q,null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0430\u0440\u0442\u0435"),onClose:a,dynamicContentHeight:!0},!1===this.state.isLoaded?i.a.createElement(x.z,{size:"large",style:{padding:"40% 0"}}):i.a.createElement(x.o,null,this.state.items.tag_string_copyright?i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(Le.a,null),id_post:n.id},i.a.createElement(x.m,{header:"\u0410\u043d\u0438\u043c\u0435/\u0418\u0433\u0440\u0430"},this.state.items.tag_string_copyright)):null,this.state.items.tag_string_character?i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(De.a,null)},i.a.createElement(x.m,{header:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"},this.state.items.tag_string_character)):null,this.state.items.tag_string_artist?i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(Ne.a,null)},i.a.createElement(x.m,{header:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a"},this.state.items.tag_string_artist)):null),i.a.createElement(x.y,{style:{margin:"12px 0"}}),i.a.createElement(x.f,{style:{display:"flex"}},i.a.createElement(x.b,{mode:"commerce",before:i.a.createElement(Ue.a,null),size:"l",style:{marginRight:8}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"),i.a.createElement(x.b,{mode:"secondary",before:i.a.createElement(Ke.a,null),size:"l"},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430")),i.a.createElement(x.y,{style:{margin:"12px 0"}}),i.a.createElement(x.o,null,i.a.createElement(x.c,{multiline:!0},i.a.createElement("b",null,"ID:")," 3412090"),i.a.createElement(x.c,{multiline:!0},i.a.createElement("b",null,"Size:")," 2.8 MB (1920x1080)"),i.a.createElement(x.c,{multiline:!0},i.a.createElement("b",null,"Source:")," ",i.a.createElement(x.n,null,"pixiv.net/artworks/73106494"))))}}]),t}(i.a.Component),qe=Object(s.b)()(Ye),Fe=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(V.a)(this,Object(G.a)(t).call(this,e))).state={post:a.props.id_post,items:[{key:1,image:"https://sun9-26.userapi.com/c856020/v856020700/1c8c24/qhn3d3m5-iM.jpg",time:"1"}]},a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.goBack,o=(this.props.id_post,this.state.items);return console.log(this.props),i.a.createElement(x.s,{id:a},i.a.createElement(x.t,{left:i.a.createElement(x.u,{onClick:function(){return n()}})},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0430\u0440\u0442\u0435"),i.a.createElement(x.j,{style:{margin:0}},i.a.createElement(x.c,{size:"1",description:o.time,before:i.a.createElement(x.a,{style:{marginRight:10},src:"https://sun4-10.userapi.com/c636424/v636424900/cf4a/z9Wt7g_7wAE.jpg?ava=1"}),asideContent:i.a.createElement(x.b,{mode:"tertiary",size:"l",onClick:function(){return e.favClick()},style:{padding:0}},this.state.fav?i.a.createElement(Q.a,{width:28,height:28}):i.a.createElement(ee.a,{width:28,height:28}))},"Animach"),i.a.createElement("img",{style:{width:"100%"},src:o[0].image,alt:"Go"}),i.a.createElement(x.o,null,i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(Le.a,null)},i.a.createElement(x.m,{header:"\u0410\u043d\u0438\u043c\u0435/\u0418\u0433\u0440\u0430"},i.a.createElement(x.n,null,"magia record: mahou shoujo madoka magica gaiden"))),i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(De.a,null)},i.a.createElement(x.m,{header:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"},i.a.createElement(x.n,null,"madoka"))),i.a.createElement(x.c,{multiline:!0,before:i.a.createElement(Ne.a,null)},i.a.createElement(x.m,{header:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a"},i.a.createElement(x.n,null,"magia record: mahou shoujo madoka magica gaiden")))),i.a.createElement(x.f,null,i.a.createElement(x.b,{mode:"tertiary",onClick:function(){return e.likeClick()},before:this.state.liked?i.a.createElement(X.a,{style:{color:"red",paddingRight:5},width:28,height:28}):i.a.createElement(F.a,{style:{paddingRight:5},width:28,height:28}),style:this.state.liked?{color:"red",padding:"0 5px"}:{padding:"0 5px"},size:"l"},"12"),i.a.createElement(x.b,{mode:"secondary",before:i.a.createElement(Ke.a,null),size:"l",Style:"float: right;"},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430"))),i.a.createElement(x.i,null,"ID: 3412090 Size: 2.8 MB (1920x1080) ",i.a.createElement("br",null),"Source: ",i.a.createElement(x.n,null,"pixiv.net/artworks/73106494")))}}]),t}(i.a.Component),Je={goBack:T},Xe=Object(s.b)(null,Je)(Fe),Ze=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(V.a)(this,Object(G.a)(t).call(this,e))).state={ModalPost:a.parrentModalId},a.parrentModalId=function(e){return a.setState({ModalPost:e}),console.log(a.state.ModalPost),e},a.lastAndroidBackAction=0,a}return Object(L.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.goBack;(0,t.dispatch)(function(e){h.a.subscribe(function t(a){"VKWebAppUpdateConfig"===a.detail.type&&(h.a.unsubscribe(t),e({type:"SET_COLOR_SCHEME",payload:a.detail.data.scheme}))}),f.a.send("VKWebAppInit",{})}),window.onpopstate=function(){var t=+new Date;t-e.lastAndroidBackAction>500?(e.lastAndroidBackAction=t,a("Android")):window.history.pushState(null,null)}}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,i=n.activeView,o=n.activeStory,r=n.activePanel,c=n.scrollPosition;if(e.activeView!==i||e.activePanel!==r||e.activeStory!==o){var l=c[o+"_"+i+"_"+r]||0;window.scroll(0,l)}}},{key:"render",value:function(){var e=this.props,t=e.goBack,a=e.setStory,n=e.closeModal,o=e.popouts,r=e.activeView,c=e.activeStory,l=e.activePanel,s=e.activeModals,u=e.panelsHistory,d=e.colorScheme,p=void 0===u[r]?[r]:u[r],m=void 0===o[r]?null:o[r],h=void 0===s[r]?null:s[r],f=i.a.createElement(x.r,{activeModal:h,dynamicContentHeight:!0},i.a.createElement(qe,{id:"MODAL_PAGE_BOT_INFO",id_post:this.state.ModalPost,onClose:function(){return n()},dynamicContentHeight:!0,settlingHeight:80}));return i.a.createElement(x.d,{isWebView:!0,scheme:d},i.a.createElement(x.g,{activeStory:c,tabbar:i.a.createElement(x.A,null,i.a.createElement(x.B,{onClick:function(){return a("home","base")},selected:"home"===c},i.a.createElement(z.a,null)),i.a.createElement(x.B,{onClick:function(){return a("more","callmodal")},selected:"more"===c},i.a.createElement(R.a,null)),i.a.createElement(x.B,{onClick:function(){return a("user","base")},selected:"user"===c},i.a.createElement(W.a,null)))},i.a.createElement(x.x,{id:"home",activeView:r,popout:m},i.a.createElement(x.E,{id:"home",modal:f,activePanel:l,history:p,onSwipeBack:function(){return t()}},i.a.createElement(ce,{id:"base",withoutEpic:!1,parrentModalId:this.parrentModalId})),i.a.createElement(x.E,{id:"modalPost",modal:f,activePanel:l,history:p,onSwipeBack:function(){return t()}},i.a.createElement(Xe,{id:"feature",id_post:this.state.ModalPost}))),i.a.createElement(x.x,{id:"more",activeView:r,popout:m},i.a.createElement(x.E,{id:"more",modal:f,activePanel:l,history:p,onSwipeBack:function(){return t()}},i.a.createElement(ve,{id:"callmodal"})),i.a.createElement(x.E,{id:"modal",modal:f,activePanel:l,history:p,onSwipeBack:function(){return t()}},i.a.createElement(ge,{id:"filters"}))),i.a.createElement(x.x,{id:"user",activeView:r,popout:m},i.a.createElement(x.E,{id:"user",activePanel:l,history:p,modal:f,onSwipeBack:function(){return t()}},i.a.createElement(Pe,{id:"base",withoutEpic:!1,parrentModalId:this.parrentModalId})),i.a.createElement(x.E,{id:"modalPost",modal:f,activePanel:l,history:p,onSwipeBack:function(){return t()}},i.a.createElement(Xe,{id:"feature",id_post:this.state.ModalPost})))))}}]),t}(i.a.Component);var Qe=Object(s.b)(function(e){return{activeView:e.router.activeView,activePanel:e.router.activePanel,activeStory:e.router.activeStory,panelsHistory:e.router.panelsHistory,activeModals:e.router.activeModals,popouts:e.router.popouts,scrollPosition:e.router.scrollPosition,colorScheme:e.vkui.colorScheme}},function(e){return Object(d.a)({dispatch:e},Object(c.bindActionCreators)({setStory:S,goBack:T,closeModal:M},e))})(Ze);a.d(t,"store",function(){return $e});var $e=Object(c.createStore)(_,Object(w.composeWithDevTools)(Object(c.applyMiddleware)(l.a)));$e.dispatch(S("home","base")),r.a.render(i.a.createElement(s.a,{store:$e},i.a.createElement(Qe,null)),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.1a9efce8.chunk.js.map